<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Healthcare Assistant</title>
</head>
<body>
  <h2>Healthcare Assistant</h2>

  <form id="searchForm">
    <input id="disease" name="disease" placeholder="Enter disease/symptom (e.g., fever)" required />
    <button type="submit">Search</button>
  </form>

  <p id="result" style="white-space:pre-wrap; margin-top:12px"></p>

<script>
const form = document.getElementById("searchForm");
form.addEventListener("submit", async (e) => {
  e.preventDefault();
  const data = new URLSearchParams(new FormData(form)); // compatible with Flask request.form
  try {
    const res = await fetch("/search", { method: "POST", body: data });
    const json = await res.json();
    if (!res.ok) {
      document.getElementById("result").innerText = json.error || "Error";
    } else {
      document.getElementById("result").innerText = json.info || "No info found.";
    }
  } catch (err) {
    document.getElementById("result").innerText = "Network error: " + err.message;
  }
});
</script>
</body>
</html>
